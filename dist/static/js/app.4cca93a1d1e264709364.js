webpackJsonp([1,0],[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var a=n(6),i=o(a),r=n(4),s=o(r);n(2),n(3),new i.default({el:"#app",components:{App:s.default}})},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){var o,a;n(1),o=n(9);var i=n(5);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=o},function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",{attrs:{id:"note"},on:{click:function(e){t.init(e)}}},[e("p",{staticStyle:{"text-align":"center"}},[t._v("点击空白处新增便签")])])},staticRenderFns:[]}},,,,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(10),i=o(a);e.default={name:"app",data:function(){return{noteCount:1}},methods:{creatElement:function(t,e,n){var o=document.createElement("div"),a=document.getElementById("note");return o.setAttribute("class","note"),o.setAttribute("style",e),o.innerHTML="<div class='note_heading'>便签"+t+"</div><textarea>"+n+"</textarea><button class='btn btn-default'>提交日记</button><div class='deletes'>x</div>",a.appendChild(o),o},bind:function(t,e){var n=this;this.move(t,e),t.getElementsByTagName("button")[0].onmousedown=function(t){t.stopPropagation();var e=n.getCount(this.parentNode);n.saveData(this,e)},t.getElementsByClassName("deletes")[0].onmousedown=function(t){if(t.stopPropagation(),confirm("一旦删除不可恢复，您确定要删掉吗？")){this.parentNode.parentNode.removeChild(this.parentNode);var e=n.getCount(this.parentNode);localStorage.removeItem("data"+e)}}},move:function(t,e){var n=this;t.addEventListener("mousedown",function(t){var e=t.offsetX,o=t.offsetY,t=t,a=this,i=function(t){var n=t.clientX-e,i=t.clientY-o;a.style.left=n+"px",a.style.top=i+"px"};document.addEventListener("mousemove",i,!1),document.addEventListener("mouseup",function(){this.removeEventListener("mousemove",i,!1);var t=n.getCount(a);localStorage.getItem("data"+t)&&n.saveData(a.getElementsByTagName("button")[0],t)},!1)},!1),t.onclick=function(t){t.stopPropagation()},t.getElementsByTagName("textarea")[0].onmousedown=function(t){t.stopPropagation()}},getCount:function(t){return t.getElementsByClassName("note_heading")[0].innerHTML.slice(2)},saveData:function(t,e){if(window.localStorage){var n=t.parentNode.style.left,o=t.parentNode.style.top,a=e,r=t.previousSibling.value;localStorage["data"+a]=(0,i.default)({left:n,top:o,count:a,content:r})}},init:function(t){var e=(document.getElementById("note"),t.clientX),n=t.clientY,o="position:fixed;left:"+e+"px;top:"+n+"px";localStorage.noteCount?this.noteCount=localStorage.getItem("noteCount"):this.noteCount=this.noteCount;var a=this.creatElement(this.noteCount,o,"点击此处编辑");this.bind(a,t),localStorage.noteCount=+this.noteCount+1}},mounted:function(t){if(localStorage)for(var e=0;e<localStorage.length;e++)if(/^data\d+$/.exec(localStorage.key(e))){var n=localStorage.getItem(localStorage.key(e)),o=JSON.parse(n).left,a=JSON.parse(n).top,i=JSON.parse(n).count,r=JSON.parse(n).content,s="position:fixed;left:"+o+";top:"+a,u=this.creatElement(i,s,r);this.bind(u,t)}}}}]);
//# sourceMappingURL=app.4cca93a1d1e264709364.js.map